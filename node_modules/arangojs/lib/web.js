!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.arangojs=t():e.arangojs=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return Boolean(e&&e.isArangoCollection)}function c(e,t){return new(t.type===f.EDGE_COLLECTION?v:y)(e,t.name)}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f,p=n(3);!function(e){e[e.DOCUMENT_COLLECTION=2]="DOCUMENT_COLLECTION",e[e.EDGE_COLLECTION=3]="EDGE_COLLECTION"}(f=t.Types||(t.Types={})),t.isArangoCollection=s;var d=function(){function e(t,n){u(this,e),this.isArangoCollection=!0,this.name=n,this._urlPrefix="/collection/"+this.name+"/",this._idPrefix=this.name+"/",this._connection=t,this._connection.arangoMajor>=3&&(this.first=void 0,this.last=void 0,this.createCapConstraint=void 0)}return l(e,[{key:"_documentHandle",value:function(e){if("string"!=typeof e){if(e._id)return e._id;if(e._key)return this._idPrefix+e._key;throw new Error("Document handle must be a document or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}},{key:"_indexHandle",value:function(e){if("string"!=typeof e){if(e.id)return e.id;throw new Error("Index handle must be a index or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}},{key:"_get",value:function(e,t){return this._connection.request({path:"/_api/"+this._urlPrefix+e,qs:t},function(e){return e.body})}},{key:"_put",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/"+this._urlPrefix+e,body:t},function(e){return e.body})}},{key:"get",value:function(){return this._connection.request({path:"/_api/collection/"+this.name},function(e){return e.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(1203!==e.errorNum)throw e;return!1})}},{key:"create",value:function(e){return this._connection.request({method:"POST",path:"/_api/collection",body:h({},e,{name:this.name,type:this.type})},function(e){return e.body})}},{key:"properties",value:function(){return this._get("properties")}},{key:"count",value:function(){return this._get("count")}},{key:"figures",value:function(){return this._get("figures")}},{key:"revision",value:function(){return this._get("revision")}},{key:"checksum",value:function(e){return this._get("checksum",e)}},{key:"load",value:function(e){return this._put("load","boolean"==typeof e?{count:e}:void 0)}},{key:"unload",value:function(){return this._put("unload",void 0)}},{key:"setProperties",value:function(e){return this._put("properties",e)}},{key:"rename",value:function(){function e(e){return t.apply(this,arguments)}var t=a(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/"+this._urlPrefix+"rename",body:{name:t}},function(e){return e.body});case 2:return n=e.sent,this.name=t,this._idPrefix=t+"/",this._urlPrefix="/collection/"+t+"/",e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"rotate",value:function(){return this._put("rotate",void 0)}},{key:"truncate",value:function(){return this._put("truncate",void 0)}},{key:"drop",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/collection/"+this.name,qs:e},function(e){return e.body})}},{key:"replace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev&&this._connection.arangoMajor>=3){var o=void 0,a=n;o=a.rev,n=i(a,["rev"]),r["if-match"]=o}return this._connection.request({method:"PUT",path:"/_api/"+this._documentPath(e),body:t,qs:n,headers:r},function(e){return e.body})}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev&&this._connection.arangoMajor>=3){var o=void 0,a=n;o=a.rev,n=i(a,["rev"]),r["if-match"]=o}return this._connection.request({method:"PATCH",path:"/_api/"+this._documentPath(e),body:t,qs:n,headers:r},function(e){return e.body})}},{key:"bulkUpdate",value:function(e,t){return this._connection.request({method:"PATCH",path:"/_api/document/"+this.name,body:e,qs:t},function(e){return e.body})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"==typeof t&&(t={rev:t}),t.rev&&this._connection.arangoMajor>=3){var r=void 0,o=t;r=o.rev,t=i(o,["rev"]),n["if-match"]=r}return this._connection.request({method:"DELETE",path:"/_api/"+this._documentPath(e),qs:t,headers:n},function(e){return e.body})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return this._connection.arangoMajor<=2?this._connection.request({path:"/_api/document",qs:{type:e,collection:this.name}},function(e){return e.body.documents}):this._connection.request({method:"PUT",path:"/_api/simple/all-keys",body:{type:e,collection:this.name}},function(e){return e.body.result})}},{key:"all",value:function(e){var t=this;return this._connection.request({method:"PUT",path:"/_api/simple/all",body:h({},e,{collection:this.name})},function(e){return new p.ArrayCursor(t._connection,e.body,e.host)})}},{key:"any",value:function(){return this._connection.request({method:"PUT",path:"/_api/simple/any",body:{collection:this.name}},function(e){return e.body.document})}},{key:"first",value:function(e){return"number"==typeof e&&(e={count:e}),this._connection.request({method:"PUT",path:"/_api/simple/first",body:h({},e,{collection:this.name})},function(e){return e.body.result})}},{key:"last",value:function(e){return"number"==typeof e&&(e={count:e}),this._connection.request({method:"PUT",path:"/_api/simple/last",body:h({},e,{collection:this.name})},function(e){return e.body.result})}},{key:"byExample",value:function(e,t){var n=this;return this._connection.request({method:"PUT",path:"/_api/simple/by-example",body:h({},t,{example:e,collection:this.name})},function(e){return new p.ArrayCursor(n._connection,e.body,e.host)})}},{key:"firstExample",value:function(e){return this._connection.request({method:"PUT",path:"/_api/simple/first-example",body:{example:e,collection:this.name}},function(e){return e.body.document})}},{key:"removeByExample",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-example",body:h({},t,{example:e,collection:this.name})},function(e){return e.body})}},{key:"replaceByExample",value:function(e,t,n){return this._connection.request({method:"PUT",path:"/_api/simple/replace-by-example",body:h({},n,{example:e,newValue:t,collection:this.name})},function(e){return e.body})}},{key:"updateByExample",value:function(e,t,n){return this._connection.request({method:"PUT",path:"/_api/simple/update-by-example",body:h({},n,{example:e,newValue:t,collection:this.name})},function(e){return e.body})}},{key:"lookupByKeys",value:function(e){return this._connection.request({method:"PUT",path:"/_api/simple/lookup-by-keys",body:{keys:e,collection:this.name}},function(e){return e.body.documents})}},{key:"removeByKeys",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-keys",body:{options:t,keys:e,collection:this.name}},function(e){return e.body})}},{key:"import",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/import",body:e,isJsonStream:Boolean(!t||"array"!==t.type),qs:h({type:"auto"},t,{collection:this.name})},function(e){return e.body})}},{key:"indexes",value:function(){return this._connection.request({path:"/_api/index",qs:{collection:this.name}},function(e){return e.body.indexes})}},{key:"index",value:function(e){return this._connection.request({path:"/_api/index/"+this._indexHandle(e)},function(e){return e.body})}},{key:"createIndex",value:function(e){return this._connection.request({method:"POST",path:"/_api/index",body:e,qs:{collection:this.name}},function(e){return e.body})}},{key:"dropIndex",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/index/"+this._indexHandle(e)},function(e){return e.body})}},{key:"createCapConstraint",value:function(e){return"number"==typeof e&&(e={size:e}),this._connection.request({method:"POST",path:"/_api/index",body:h({},e,{type:"cap"}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createHashIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:h({unique:!1},t,{type:"hash",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createSkipList",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:h({unique:!1},t,{type:"skiplist",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createPersistentIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:h({unique:!1},t,{type:"persistent",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createGeoIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/_api/index",body:h({},t,{fields:e,type:"geo"}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createFulltextIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/_api/index",body:{fields:e,minLength:t,type:"fulltext"},qs:{collection:this.name}},function(e){return e.body})}},{key:"fulltext",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.index&&(r.index=this._indexHandle(r.index)),this._connection.request({method:"PUT",path:"/_api/simple/fulltext",body:h({},r,{attribute:e,query:t,collection:this.name})},function(e){return new p.ArrayCursor(n._connection,e.body,e.host)})}}]),e}();t.BaseCollection=d;var y=function(e){function t(e,n){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.type=f.DOCUMENT_COLLECTION,o}return o(t,e),l(t,[{key:"_documentPath",value:function(e){return"/document/"+this._documentHandle(e)}},{key:"document",value:function(e){return this._connection.request({path:"/_api/"+this._documentPath(e)},function(e){return e.body})}},{key:"save",value:function(e,t){return"boolean"==typeof t&&(t={returnNew:t}),this._connection.arangoMajor<=2?this._connection.request({method:"POST",path:"/_api/document",body:e,qs:h({},t,{collection:this.name})},function(e){return e.body}):this._connection.request({method:"POST",path:"/_api/document/"+this.name,body:e,qs:t},function(e){return e.body})}}]),t}(d);t.DocumentCollection=y;var v=function(e){function t(e,n){u(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.type=f.EDGE_COLLECTION,o}return o(t,e),l(t,[{key:"_documentPath",value:function(e){return this._connection.arangoMajor<3?"edge/"+this._documentHandle(e):"document/"+this._documentHandle(e)}},{key:"edge",value:function(e){return this._connection.request({path:"/_api/"+this._documentPath(e)},function(e){return e.body})}},{key:"save",value:function(e,t,n){return void 0!==t&&(e._from=this._documentHandle(t),e._to=this._documentHandle(n)),this._connection.arangoMajor<=2?this._connection.request({method:"POST",path:"/_api/edge",body:e,qs:{collection:this.name,from:e._from,to:e._to}},function(e){return e.body}):this._connection.request({method:"POST",path:"/_api/document",body:e,qs:{collection:this.name}},function(e){return e.body})}},{key:"_edges",value:function(e,t){return this._connection.request({path:"/_api/edges/"+this.name,qs:{direction:t,vertex:this._documentHandle(e)}},function(e){return e.body.edges})}},{key:"edges",value:function(e){return this._edges(e,void 0)}},{key:"inEdges",value:function(e){return this._edges(e,"in")}},{key:"outEdges",value:function(e){return this._edges(e,"out")}},{key:"traversal",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/traversal",body:h({},t,{startVertex:e,edgeCollection:this.name})},function(e){return e.body.result})}}]),t}(d);t.EdgeCollection=v,t.constructCollection=c},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return Boolean(e&&e.query&&e.bindVars)}function o(e){return Boolean(e&&"function"==typeof e.toAQL)}function i(e){for(var t={},n=[],r=e[0],i=arguments.length,u=Array(i>1?i-1:0),s=1;s<i;s++)u[s-1]=arguments[s];for(var c=0;c<u.length;c++){var h=u[c],l=h;if(o(h))r+=""+h.toAQL()+e[c+1];else{var f=n.indexOf(h),p=-1!==f,d="value"+(p?f:n.length);a.isArangoCollection(h)&&(d="@"+d,l=h.name),p||(n.push(h),t[d]=l),r+="@"+d+e[c+1]}}return{query:r,bindVars:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.isAqlQuery=r,t.isAqlLiteral=o,t.aql=i,function(e){e.literal=function(e){return{toAQL:function(){return String(e)}}}}(i=t.aql||(t.aql={}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,n,r){i(this,e),this.extra=n.extra,this._connection=t,this._result=n.result,this._hasMore=Boolean(n.hasMore),this._id=n.id,this._host=r,this.count=n.count}return a(e,[{key:"_drain",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._more();case 2:if(this._hasMore){e.next=4;break}return e.abrupt("return",this);case 4:return e.abrupt("return",this._drain());case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_more",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hasMore){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._connection.request({method:"PUT",path:"/_api/cursor/"+this._id,host:this._host});case 6:n=e.sent,(t=this._result).push.apply(t,r(n.body.result)),this._hasMore=n.body.hasMore;case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"all",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._drain();case 2:return t=this._result,this._result=[],e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"next",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._result.length||!this._hasMore){e.next=5;break}return e.next=3,this._more();case 3:e.next=0;break;case 5:if(this._result.length){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.abrupt("return",this._result.shift());case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"hasNext",value:function(){return Boolean(this._hasMore||this._result.length)}},{key:"each",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}r=void 0;case 3:if(!this._result.length){e.next=10;break}if(r=t(this._result.shift(),n,this),n++,!1!==r){e.next=8;break}return e.abrupt("return",r);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"every",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}r=void 0;case 3:if(!this._result.length){e.next=10;break}if(r=t(this._result.shift(),n,this),n++,r){e.next=8;break}return e.abrupt("return",!1);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"some",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}r=void 0;case 3:if(!this._result.length){e.next=10;break}if(r=t(this._result.shift(),n,this),n++,!r){e.next=8;break}return e.abrupt("return",!0);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"map",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=[];case 2:if(!this._result.length&&!this._hasMore){e.next=9;break}for(;this._result.length;)r.push(t(this._result.shift(),n,this)),n++;if(!this._hasMore){e.next=7;break}return e.next=7,this._more();case 7:e.next=2;break;case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"reduce",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,void 0!==n){e.next=7;break}if(this._result.length||this._hasMore){e.next=5;break}return e.next=5,this._more();case 5:n=this._result.shift(),r+=1;case 7:if(!this._result.length&&!this._hasMore){e.next=14;break}for(;this._result.length;)n=t(n,this._result.shift(),r,this),r++;if(!this._hasMore){e.next=12;break}return e.next=12,this._more();case 12:e.next=7;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.ArrayCursor=u},function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";t.decode=t.parse=n(21),t.encode=t.stringify=n(22)},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h=n(0),l=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.type=h.Types.DOCUMENT_COLLECTION,o.graph=r,o}return u(t,e),c(t,[{key:"_documentPath",value:function(e){return"/document/"+this._documentHandle(e)}},{key:"vertex",value:function(e){return this._connection.request({path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e)},function(e){return e.body.vertex})}},{key:"save",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this.name,body:e,qs:t},function(e){return e.body.vertex})}},{key:"replace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev){var i=void 0,a=n;i=a.rev,n=o(a,["rev"]),r["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),body:t,qs:n,headers:r},function(e){return e.body.vertex})}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev){var i=void 0,a=n;i=a.rev,n=o(a,["rev"]),r["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),body:t,qs:n,headers:r},function(e){return e.body.vertex})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"==typeof t&&(t={rev:t}),t.rev){var r=void 0,i=t;r=i.rev,t=o(i,["rev"]),n["if-match"]=r}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),qs:t,headers:n},function(e){return e.body.removed})}}]),t}(h.BaseCollection);t.GraphVertexCollection=l;var f=function(e){function t(e,n,r){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.type=h.Types.EDGE_COLLECTION,o.type=h.Types.EDGE_COLLECTION,o.graph=r,o}return u(t,e),c(t,[{key:"edge",value:function(e){return this._connection.request({path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e)},function(e){return e.body.edge})}},{key:"save",value:function(e,t,n,r){return void 0!==t&&(void 0!==n?(e._from=this._documentHandle(t),e._to=this._documentHandle(n)):r=t),this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/edge/"+this.name,body:e,qs:r},function(e){return e.body.edge})}},{key:"replace",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev){var i=void 0,a=n;i=a.rev,n=o(a,["rev"]),r["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),body:t,qs:n,headers:r},function(e){return e.body.edge})}},{key:"update",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};if("string"==typeof n&&(n={rev:n}),n.rev){var i=void 0,a=n;i=a.rev,n=o(a,["rev"]),r["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),body:t,qs:n,headers:r},function(e){return e.body.edge})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"==typeof t&&(t={rev:t}),t.rev){var r=void 0,i=t;r=i.rev,t=o(i,["rev"]),n["if-match"]=r}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),qs:t,headers:n},function(e){return e.body.removed})}}]),t}(h.EdgeCollection);t.GraphEdgeCollection=f;var p=function(){function e(t,n){i(this,e),this.name=n,this._connection=t}return c(e,[{key:"get",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name},function(e){return e.body.graph})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(1924!==e.errorNum)throw e;return!1})}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return this._connection.request({method:"POST",path:"/_api/gharial",body:s({},e,{name:this.name}),qs:t},function(e){return e.body.graph})}},{key:"drop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name,qs:{dropCollections:e}},function(e){return e.body.removed})}},{key:"vertexCollection",value:function(e){return new l(this._connection,e,this)}},{key:"listVertexCollections",value:function(e){return this._connection.request({path:"/_api/gharial/"+this.name+"/vertex",qs:e},function(e){return e.body.collections})}},{key:"vertexCollections",value:function(){function e(e){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t){var n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listVertexCollections(t);case 2:return n=e.sent,e.abrupt("return",n.map(function(e){return new l(r._connection,e,r)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"addVertexCollection",value:function(e){return h.isArangoCollection(e)&&(e=e.name),this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/vertex",body:{collection:e}},function(e){return e.body.graph})}},{key:"removeVertexCollection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h.isArangoCollection(e)&&(e=e.name),this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/vertex/"+e,qs:{dropCollection:t}},function(e){return e.body.graph})}},{key:"edgeCollection",value:function(e){return new f(this._connection,e,this)}},{key:"listEdgeCollections",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name+"/edge"},function(e){return e.body.collections})}},{key:"edgeCollections",value:function(){function e(){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listEdgeCollections();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return new f(n._connection,e,n)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"addEdgeDefinition",value:function(e){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/edge",body:e},function(e){return e.body.graph})}},{key:"replaceEdgeDefinition",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.name+"/edge/"+e,body:t},function(e){return e.body.graph})}},{key:"removeEdgeDefinition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/edge/"+e,qs:{dropCollection:t}},function(e){return e.body.graph})}},{key:"traversal",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/traversal",body:s({},t,{startVertex:e,graphName:this.name})},function(e){return e.body.result})}}]),e}();t.Graph=p},function(e,t,n){n(9),e.exports=n(10)},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){function r(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),u=new d(r||[]);return a._invoke=h(e,n,u),a}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function u(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function n(r,i,a,u){var s=o(e[r],e,i);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"===(void 0===h?"undefined":t(h))&&_.call(h,"__await")?Promise.resolve(h.__await).then(function(e){n("next",e,a,u)},function(e){n("throw",e,a,u)}):Promise.resolve(h).then(function(e){c.value=e,a(c)},u)}u(s.arg)}function r(e,t){function r(){return new Promise(function(r,o){n(e,t,r,o)})}return i=i?i.then(r,r):r()}var i;this._invoke=r}function h(e,t,n){var r=j;return function(i,a){if(r===P)throw new Error("Generator is already running");if(r===T){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===E)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===j)throw r=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=P;var c=o(e,t,n);if("normal"===c.type){if(r=n.done?T:S,c.arg===E)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=T,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,l(e,t),"throw"===t.method))return E;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=o(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,E;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,E):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,E)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function y(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(_.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,b=Object.prototype,_=b.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},x=g.iterator||"@@iterator",w=g.asyncIterator||"@@asyncIterator",k=g.toStringTag||"@@toStringTag",O="object"===t(e),q=n.regeneratorRuntime;if(q)return void(O&&(e.exports=q));q=n.regeneratorRuntime=O?e.exports:{},q.wrap=r;var j="suspendedStart",S="suspendedYield",P="executing",T="completed",E={},C={};C[x]=function(){return this};var A=Object.getPrototypeOf,R=A&&A(A(y([])));R&&R!==b&&_.call(R,x)&&(C=R);var L=u.prototype=i.prototype=Object.create(C);a.prototype=L.constructor=u,u.constructor=a,u[k]=a.displayName="GeneratorFunction",q.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},q.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(L),e},q.awrap=function(e){return{__await:e}},s(c.prototype),c.prototype[w]=function(){return this},q.AsyncIterator=c,q.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return q.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(L),L[k]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},q.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},q.values=y,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=_.call(o,"catchLoc"),u=_.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),E}}}(function(){return this}()||Function("return this")())}).call(t,n(1)(e))},function(e,t,n){"use strict";e.exports=n(11).default,e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})},function(e,t,n){"use strict";function r(e){return new o.Database(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12);t.Database=o.Database;var i=n(2);t.aql=i.aql,t.default=r,Object.assign(r,{Database:o.Database,aql:i.aql});var a=n(0);t.DocumentCollection=a.DocumentCollection,t.EdgeCollection=a.EdgeCollection;var u=n(7);t.Graph=u.Graph},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return l.isArangoCollection(e)?String(e.name):String(e)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h=n(2),l=n(0),f=n(13),p=n(3),d=n(7),y=n(38),v=n(39),m=n(40),b=function(){function e(t){i(this,e),this._connection=new f.Connection(t),this.useBasicAuth()}return c(e,[{key:"route",value:function(e,t){return new y.Route(this._connection,e,t)}},{key:"acquireHostList",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connection.getDatabaseName()){e.next=2;break}throw new Error("Cannot acquire host list with absolute URL");case 2:return e.next=4,this._connection.request({path:"/_api/cluster/endpoints"},function(e){return e.body.endpoints.map(function(e){return e.endpoint})});case 4:t=e.sent,this._connection.addToHostList(t);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"useDatabase",value:function(e){return this._connection.setDatabaseName(e),this}},{key:"useBearerAuth",value:function(e){return this._connection.setHeader("authorization","Bearer "+e),this}},{key:"useBasicAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.setHeader("authorization","Basic "+v.btoa(e+":"+t)),this}},{key:"get",value:function(){return this._connection.request({path:"/_api/database/current"},function(e){return e.body.result})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(1228!==e.errorNum)throw e;return!1})}},{key:"createDatabase",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/database",body:{users:t,name:e}},function(e){return e.body})}},{key:"listDatabases",value:function(){return this._connection.request({path:"/_api/database"},function(e){return e.body.result})}},{key:"listUserDatabases",value:function(){return this._connection.request({path:"/_api/database/user"},function(e){return e.body.result})}},{key:"dropDatabase",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/database/"+e},function(e){return e.body})}},{key:"collection",value:function(e){return new l.DocumentCollection(this._connection,e)}},{key:"edgeCollection",value:function(e){return new l.EdgeCollection(this._connection,e)}},{key:"listCollections",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._connection.request({path:"/_api/collection",qs:{excludeSystem:t}},function(t){return e._connection.arangoMajor<=2?t.body.collections:t.body.result})}},{key:"collections",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listCollections(r);case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return l.constructCollection(n._connection,e)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"truncate",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n=this,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listCollections(r);case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(e){return n._connection.request({method:"PUT",path:"/_api/collection/"+e.name+"/truncate"},function(e){return e.body})}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"graph",value:function(e){return new d.Graph(this._connection,e)}},{key:"listGraphs",value:function(){return this._connection.request({path:"/_api/gharial"},function(e){return e.body.graphs})}},{key:"graphs",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listGraphs();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return n.graph(e._key)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"transaction",value:function(e,t,n,r){return"number"==typeof n&&(r=n,n=void 0),"number"==typeof r&&(r={lockTimeout:r}),"string"==typeof e?e={write:[e]}:Array.isArray(e)?e={write:e.map(a)}:l.isArangoCollection(e)?e={write:a(e)}:e&&"object"===(void 0===e?"undefined":s(e))&&(e=u({},e),e.read&&(Array.isArray(e.read)?e.read=e.read.map(a):e.read=a(e.read)),e.write&&(Array.isArray(e.write)?e.write=e.write.map(a):e.write=a(e.write))),this._connection.request({method:"POST",path:"/_api/transaction",body:u({collections:e,action:t,params:n},r)},function(e){return e.body.result})}},{key:"query",value:function(e,t,n){var r=this;return h.isAqlQuery(e)?(n=t,t=e.bindVars,e=e.query):h.isAqlLiteral(e)&&(e=e.toAQL()),this._connection.request({method:"POST",path:"/_api/cursor",body:u({},n,{query:e,bindVars:t})},function(e){return new p.ArrayCursor(r._connection,e.body,e.host)})}},{key:"listFunctions",value:function(){return this._connection.request({path:"/_api/aqlfunction"},function(e){return e.body})}},{key:"createFunction",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/aqlfunction",body:{name:e,code:t}},function(e){return e.body})}},{key:"dropFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/aqlfunction/"+e,body:{group:t}},function(e){return e.body})}},{key:"listServices",value:function(){return this._connection.request({path:"/_api/foxx"},function(e){return e.body})}},{key:"installService",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var o,i,a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=r(c,["configuration","dependencies"]),e.next=3,m.toForm({configuration:o,dependencies:i,source:n});case 3:return s=e.sent,e.next=6,this._connection.request(u({},s,{method:"POST",path:"/_api/foxx",isBinary:!0,qs:u({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"upgradeService",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var o,i,a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=r(c,["configuration","dependencies"]),e.next=3,m.toForm({configuration:o,dependencies:i,source:n});case 3:return s=e.sent,e.next=6,this._connection.request(u({},s,{method:"PATCH",path:"/_api/foxx/service",isBinary:!0,qs:u({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"replaceService",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var o,i,a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=r(c,["configuration","dependencies"]),e.next=3,m.toForm({configuration:o,dependencies:i,source:n});case 3:return s=e.sent,e.next=6,this._connection.request(u({},s,{method:"PUT",path:"/_api/foxx/service",isBinary:!0,qs:u({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"uninstallService",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._connection.request({method:"DELETE",path:"/_api/foxx/service",qs:u({},t,{mount:e})},function(){})}},{key:"getService",value:function(e){return this._connection.request({path:"/_api/foxx/service",qs:{mount:e}},function(e){return e.body})}},{key:"getServiceConfiguration",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,s,c,h=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({path:"/_api/foxx/configuration",qs:{mount:t,minimal:h}},function(e){return e.body});case 2:if(n=e.sent,h&&Object.keys(n).every(function(e){return n[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:for(r={},o=!0,i=!1,a=void 0,e.prev=9,u=Object.keys(n)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,r[c]=n[c].current;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,!o&&u.return&&u.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return e}()},{key:"updateServiceConfiguration",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,h,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/configuration",body:n,qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,!l&&r.values&&Object.keys(r.values).every(function(e){return r.values[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,this.getServiceConfiguration(t,l);case 7:if(o=e.sent,!r.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)h=c.value,o[h].warning=r.warnings[h];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"replaceServiceConfiguration",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,h,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/configuration",body:n,qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,!l&&r.values&&Object.keys(r.values).every(function(e){return r.values[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,this.getServiceConfiguration(t,l);case 7:if(o=e.sent,!r.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)h=c.value,o[h].warning=r.warnings[h];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"getServiceDependencies",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,u,s,c,h=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({path:"/_api/foxx/dependencies",qs:{mount:t,minimal:h}},function(e){return e.body});case 2:if(n=e.sent,h&&Object.keys(n).every(function(e){return n[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:for(r={},o=!0,i=!1,a=void 0,e.prev=9,u=Object.keys(n)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,r[c]=n[c].current;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,!o&&u.return&&u.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return e}()},{key:"updateServiceDependencies",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,h,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/dependencies",body:n,qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,!l&&r.values&&Object.keys(r.values).every(function(e){return r.values[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,this.getServiceDependencies(t,l);case 7:if(o=e.sent,!r.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)h=c.value,o[h].warning=r.warnings[h];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"replaceServiceDependencies",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,h,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/dependencies",body:n,qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,!l&&r.values&&Object.keys(r.values).every(function(e){return r.values[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,this.getServiceDependencies(t,l);case 7:if(o=e.sent,!r.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)h=c.value,o[h].warning=r.warnings[h];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"enableServiceDevelopmentMode",value:function(e){return this._connection.request({method:"POST",path:"/_api/foxx/development",qs:{mount:e}},function(e){return e.body})}},{key:"disableServiceDevelopmentMode",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/foxx/development",qs:{mount:e}},function(e){return e.body})}},{key:"listServiceScripts",value:function(e){return this._connection.request({path:"/_api/foxx/scripts",qs:{mount:e}},function(e){return e.body})}},{key:"runServiceScript",value:function(e,t,n){return this._connection.request({method:"POST",path:"/_api/foxx/scripts/"+t,body:n,qs:{mount:e}},function(e){return e.body})}},{key:"runServiceTests",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/foxx/tests",qs:u({},t,{mount:e})},function(e){return e.body})}},{key:"getServiceReadme",value:function(e){return this._connection.request({path:"/_api/foxx/readme",qs:{mount:e}},function(e){return e.body})}},{key:"getServiceDocumentation",value:function(e){return this._connection.request({path:"/_api/foxx/swagger",qs:{mount:e}},function(e){return e.body})}},{key:"downloadService",value:function(e){return this._connection.request({method:"POST",path:"/_api/foxx/download",qs:{mount:e},expectBinary:!0},function(e){return e.body})}},{key:"commitLocalServiceState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"POST",path:"/_api/foxx/commit",qs:{replace:e}},function(){})}},{key:"version",value:function(){return this._connection.request({method:"GET",path:"/_api/version"},function(e){return e.body})}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.request({method:"POST",path:"/_open/auth",body:{username:t,password:n}},function(t){return e.useBearerAuth(t.body.jwt),t.body.jwt})}},{key:"name",get:function(){return this._connection.getDatabaseName()||null}}]),e}();t.Database=b},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h=n(14),l=n(17),f=n(35),p=n(6),d=n(37),y=/\/(json|javascript)(\W|$)/,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._activeTasks=0,this._arangoVersion=3e4,this._databaseName="_system",this._queue=new d,this._hosts=[],this._urls=[],"string"==typeof t?t={url:t}:Array.isArray(t)&&(t={url:t}),void 0!==t.arangoVersion&&(this._arangoVersion=t.arangoVersion),t.isAbsolute&&(this._databaseName=!1),this._agent=t.agent,this._agentOptions=l.isBrowser?s({},t.agentOptions):s({maxSockets:3,keepAlive:!0,keepAliveMsecs:1e3},t.agentOptions),this._maxTasks=this._agentOptions.maxSockets||3,this._agentOptions.keepAlive&&(this._maxTasks*=2),this._headers=s({},t.headers),this._loadBalancingStrategy=t.loadBalancingStrategy||"NONE",this._useFailOver="ROUND_ROBIN"!==this._loadBalancingStrategy;var n=t.url?Array.isArray(t.url)?t.url:[t.url]:["http://localhost:8529"];this.addToHostList(n),"ONE_RANDOM"===this._loadBalancingStrategy?this._activeHost=Math.floor(Math.random()*this._hosts.length):this._activeHost=0}return c(e,[{key:"_runQueue",value:function(){var e=this;if(this._queue.length&&!(this._activeTasks>=this._maxTasks)){var t=this._queue.shift(),n=this._activeHost;void 0!==t.host?n=t.host:"ROUND_ROBIN"===this._loadBalancingStrategy&&(this._activeHost=(this._activeHost+1)%this._hosts.length),this._activeTasks+=1,this._hosts[n](t.options,function(r,o){if(e._activeTasks-=1,r)e._hosts.length>1&&e._activeHost===n&&e._useFailOver&&(e._activeHost=(e._activeHost+1)%e._hosts.length),t.reject(r);else{var i=o;if(503===i.statusCode&&i.headers["x-arango-endpoint"]){var a=i.headers["x-arango-endpoint"],s=e.addToHostList(a),c=u(s,1),h=c[0];t.host=h,e._activeHost===n&&(e._activeHost=h),e._queue.push(t)}else i.host=n,t.resolve(i)}e._runQueue()})}}},{key:"_buildUrl",value:function(e){var t=e.absolutePath,n=void 0!==t&&t,r=e.basePath,o=e.path,i=e.qs,a="",u=void 0;return n||(a=this._databasePath,r&&(a+=r)),o&&(a+=o),i&&(u="string"==typeof i?"?"+i:"?"+p.stringify(i)),u?{pathname:a,search:u}:{pathname:a}}},{key:"_sanitizeEndpointUrl",value:function(e){return e.startsWith("tcp:")?e.replace(/^tcp:/,"http:"):e.startsWith("ssl:")?e.replace(/^ssl:/,"https:"):e}},{key:"addToHostList",value:function(e){var t,n,r=this,i=(Array.isArray(e)?e:[e]).map(function(e){return r._sanitizeEndpointUrl(e)}),a=i.filter(function(e){return-1===r._urls.indexOf(e)});return(t=this._urls).push.apply(t,o(a)),(n=this._hosts).push.apply(n,o(a.map(function(e){return l.createRequest(e,r._agentOptions,r._agent)}))),i.map(function(e){return r._urls.indexOf(e)})}},{key:"getDatabaseName",value:function(){return this._databaseName}},{key:"getActiveHost",value:function(){return this._activeHost}},{key:"setDatabaseName",value:function(e){if(!1===this._databaseName)throw new Error("Can not change database from absolute URL");this._databaseName=e}},{key:"setHeader",value:function(e,t){this._headers[e]=t}},{key:"request",value:function(e,t){var n=this,o=e.host,i=e.method,u=void 0===i?"GET":i,c=e.body,p=e.expectBinary,d=void 0!==p&&p,v=e.isBinary,m=void 0!==v&&v,b=e.isJsonStream,_=void 0!==b&&b,g=e.headers,x=r(e,["host","method","body","expectBinary","isBinary","isJsonStream","headers"]);return new Promise(function(e,r){var i="text/plain";m?i="application/octet-stream":c&&("object"===(void 0===c?"undefined":a(c))?_?(c=c.map(function(e){return JSON.stringify(e)}).join("\r\n")+"\r\n",i="application/x-ldjson"):(c=JSON.stringify(c),i="application/json"):c=String(c));var p=s({},n._headers,{"content-type":i,"x-arango-version":String(n._arangoVersion)});l.isBrowser||(p["content-length"]=String(c?f.byteLength(c,"utf-8"):0)),n._queue.push({host:o,options:{url:n._buildUrl(x),headers:s({},p,g),method:u,expectBinary:d,body:c},reject:r,resolve:function(n){var o=n.headers["content-type"],i=void 0;if(n.body.length&&o&&o.match(y))try{i=n.body,i=JSON.parse(i)}catch(e){if(!d)return"string"!=typeof i&&(i=n.body.toString("utf-8")),e.response=n,void r(e)}else i=n.body&&!d?n.body.toString("utf-8"):n.body;i&&i.hasOwnProperty("error")&&i.hasOwnProperty("code")&&i.hasOwnProperty("errorMessage")&&i.hasOwnProperty("errorNum")?(n.body=i,r(new h.ArangoError(n))):n.statusCode&&n.statusCode>=400?(n.body=i,r(new h.HttpError(n))):(d||(n.body=i),e(t?t(n):n))}}),n._runQueue()})}},{key:"_databasePath",get:function(){return!1===this._databaseName?"":"/_db/"+this._databaseName}},{key:"arangoMajor",get:function(){return Math.floor(this._arangoVersion/1e4)}}]),e}();t.Connection=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(15),u={0:"Network Error",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error"},s=["fileName","lineNumber","columnNumber","stack","description","number"],c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="ArangoError",n.isArangoError=!0,n.response=e,n.statusCode=e.statusCode,n.message=e.body.errorMessage,n.errorNum=e.body.errorNum,n.code=e.body.code;var i=new Error(n.message);i.name=n.name;var a=!0,u=!1,c=void 0;try{for(var h,l=s[Symbol.iterator]();!(a=(h=l.next()).done);a=!0){var f=h.value;i[f]&&(n[f]=i[f])}}catch(i){u=!0,c=i}finally{try{!a&&l.return&&l.return()}finally{if(u)throw c}}return n}return i(t,e),t}(a.default);t.ArangoError=c;var h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="HttpError",n.response=e,n.statusCode=e.statusCode||500,n.message=u[n.statusCode]||u[500],n.code=n.statusCode;var i=new Error(n.message);i.name=n.name;var a=!0,c=!1,h=void 0;try{for(var l,f=s[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var p=l.value;i[p]&&(n[p]=i[p])}}catch(i){c=!0,h=i}finally{try{!a&&f.return&&f.return()}finally{if(c)throw h}}return n}return i(t,e),t}(a.default);t.HttpError=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);r=r.default||r,t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(n,n.constructor),o(n)):(Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),n)}return i(t,e),t}(function(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=u},function(e,t,n){"use strict";function r(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t.includes(s)||(n[s]=e[s])}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}function o(e,t){var n=a.parse(e),o=r(t,["keepAlive","keepAliveMsecs","maxSockets"]);return function(e,t){var r=e.method,c=e.url,h=e.headers,l=e.body,f=e.expectBinary,p=i({},n,{pathname:c.pathname?n.pathname?u.joinPath(n.pathname,c.pathname):c.pathname:n.pathname,search:c.search?n.search?n.search+"&"+c.search.slice(1):c.search:n.search}),d=function(e,n){d=function(){},t(e,n)},y=s.default(i({responseType:f?"blob":"text"},o,{url:a.format(p),withCredentials:!0,useXDR:!0,body:l,method:r,headers:h}),function(e,t){if(e){var n=e;n.request=y,d(n)}else t.body||(t.body=""),d(null,t)})}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),u=n(23),s=n(26);t.isBrowser=!0,t.createRequest=o},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&h.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return h.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function u(e,t){return e?o(e,!1,!0).resolveObject(t):t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(19),h=n(20);t.parse=o,t.resolve=a,t.resolveObject=u,t.format=i,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],y=["{","}","|","\\","^","`"].concat(d),v=["'"].concat(y),m=["%","/","?",";","#"].concat(v),b=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=n(6);r.prototype.parse=function(e,t,n){if(!h.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":s(e)));var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var u=e;if(u=u.trim(),!n&&1===e.split("#").length){var f=p.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?O.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=l.exec(u);if(d){d=d[0];var y=d.toLowerCase();this.protocol=y,u=u.substr(d.length)}if(n||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var q="//"===u.substr(0,2);!q||d&&w[d]||(u=u.substr(2),this.slashes=!0)}if(!w[d]&&(q||d&&!k[d])){for(var j=-1,S=0;S<b.length;S++){var P=u.indexOf(b[S]);-1!==P&&(-1===j||P<j)&&(j=P)}var T,E;E=-1===j?u.lastIndexOf("@"):u.lastIndexOf("@",j),-1!==E&&(T=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(T)),j=-1;for(var S=0;S<m.length;S++){var P=u.indexOf(m[S]);-1!==P&&(-1===j||P<j)&&(j=P)}-1===j&&(j=u.length),this.host=u.slice(0,j),u=u.slice(j),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),S=0,R=A.length;S<R;S++){var L=A[S];if(L&&!L.match(_)){for(var M="",N=0,H=L.length;N<H;N++)L.charCodeAt(N)>127?M+="x":M+=L[N];if(!M.match(_)){var D=A.slice(0,S),U=A.slice(S+1),I=L.match(g);I&&(D.push(I[1]),U.unshift(I[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=c.toASCII(this.hostname));var B=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!x[y])for(var S=0,R=v.length;S<R;S++){var F=v[S];if(-1!==u.indexOf(F)){var V=encodeURIComponent(F);V===F&&(V=escape(F)),u=u.split(F).join(V)}}var X=u.indexOf("#");-1!==X&&(this.hash=u.substr(X),u=u.slice(0,X));var z=u.indexOf("?");if(-1!==z?(this.search=u.substr(z),this.query=u.substr(z+1),t&&(this.query=O.parse(this.query)),u=u.slice(0,z)):t&&(this.search="",this.query={}),u&&(this.pathname=u),k[y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",J=this.search||"";this.path=B+J}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(i=O.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(h.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(n[c]=e[c])}return k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var p=l[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||w[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var y=n.pathname||"",v=n.search||"";n.path=y+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=b||m||n.host&&e.pathname,g=_,x=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],O=n.protocol&&!k[n.protocol];if(O&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===x[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),n.search=e.search,n.query=e.query;else if(!h.isNullOrUndefined(e.search)){if(O){n.hostname=n.host=x.shift();var q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");q&&(n.auth=q.shift(),n.host=n.hostname=q.shift())}return n.search=e.search,n.query=e.query,h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=x.slice(-1)[0],S=(n.host||e.host||x.length>1)&&("."===j||".."===j)||""===j,P=0,T=x.length;T>=0;T--)j=x[T],"."===j?x.splice(T,1):".."===j?(x.splice(T,1),P++):P&&(x.splice(T,1),P--);if(!_&&!g)for(;P--;P)x.unshift("..");!_||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),S&&"/"!==x.join("/").substr(-1)&&x.push("");var E=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(O){n.hostname=n.host=E?"":x.length?x.shift():"";var q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");q&&(n.auth=q.shift(),n.host=n.hostname=q.shift())}return _=_||n.host&&x.length,_&&!E&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),h.isNull(n.pathname)&&h.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";(function(e,r){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){function u(e){throw new RangeError(N[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function c(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(M,"."),r+s(e.split("."),t).join(".")}function h(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:q}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?D(e/T):e>>1,e+=D(e/t);e>H*S>>1;r+=q)e=D(e/H);return D(r+(H+1)*e/(e+P))}function y(e){var t,n,r,o,i,a,s,c,h,p,y=[],v=e.length,m=0,b=C,_=E;for(n=e.lastIndexOf(A),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&u("not-basic"),y.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=m,a=1,s=q;o>=v&&u("invalid-input"),c=f(e.charCodeAt(o++)),(c>=q||c>D((O-m)/a))&&u("overflow"),m+=c*a,h=s<=_?j:s>=_+S?S:s-_,!(c<h);s+=q)p=q-h,a>D(O/p)&&u("overflow"),a*=p;t=y.length+1,_=d(m-i,t,0==i),D(m/t)>O-b&&u("overflow"),b+=D(m/t),m%=t,y.splice(m++,0,b)}return l(y)}function v(e){var t,n,r,o,i,a,s,c,l,f,y,v,m,b,_,g=[];for(e=h(e),v=e.length,t=C,n=0,i=E,a=0;a<v;++a)(y=e[a])<128&&g.push(U(y));for(r=o=g.length,o&&g.push(A);r<v;){for(s=O,a=0;a<v;++a)(y=e[a])>=t&&y<s&&(s=y);for(m=r+1,s-t>D((O-n)/m)&&u("overflow"),n+=(s-t)*m,t=s,a=0;a<v;++a)if(y=e[a],y<t&&++n>O&&u("overflow"),y==t){for(c=n,l=q;f=l<=i?j:l>=i+S?S:l-i,!(c<f);l+=q)_=c-f,b=q-f,g.push(U(p(f+_%b,0))),c=D(_/b);g.push(U(p(c,0))),i=d(n,m,r==o),n=0,++r}++n,++t}return g.join("")}function m(e){return c(e,function(e){return R.test(e)?y(e.slice(4).toLowerCase()):e})}function b(e){return c(e,function(e){return L.test(e)?"xn--"+v(e):e})}var _="object"==i(t)&&t&&!t.nodeType&&t,g="object"==i(e)&&e&&!e.nodeType&&e,x="object"==(void 0===r?"undefined":i(r))&&r;x.global!==x&&x.window!==x&&x.self!==x||(a=x);var w,k,O=2147483647,q=36,j=1,S=26,P=38,T=700,E=72,C=128,A="-",R=/^xn--/,L=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},H=q-j,D=Math.floor,U=String.fromCharCode;if(w={version:"1.4.1",ucs2:{decode:h,encode:l},decode:y,encode:v,toASCII:b,toUnicode:m},"object"==i(n(5))&&n(5))void 0!==(o=function(){return w}.call(t,n,t,e))&&(e.exports=o);else if(_&&g)if(e.exports==_)g.exports=w;else for(k in w)w.hasOwnProperty(k)&&(_[k]=w[k]);else a.punycode=w}(void 0)}).call(t,n(1)(e),n(4))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var u=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var h=0;h<c;++h){var l,f,p,d,y=e[h].replace(u,"%20"),v=y.indexOf(n);v>=0?(l=y.substr(0,v),f=y.substr(v+1)):(l=y,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){switch(void 0===e?"undefined":o(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":o(e))?r(u(e),function(o){var u=encodeURIComponent(i(o))+n;return a(e[o])?r(e[o],function(e){return u+encodeURIComponent(i(e))}).join(t):u+encodeURIComponent(i(e[o]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24);t.joinPath=r.join},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(25))},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function u(){v&&d&&(v=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!v){var e=i(u);v=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,v=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function h(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var d,y=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new c(e,t)),1!==y.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=h,p.addListener=h,p.once=h,p.off=h,p.removeListener=h,p.removeAllListeners=h,p.emit=h,p.prependListener=h,p.prependOnceListener=h,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=n(27)},function(e,t,n){"use strict";function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return h(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=f(t,{uri:e}),r.callback=n,r}function i(e,t,n){return t=o(e,t,n),a(t)}function a(e){function t(){4===h.readyState&&setTimeout(a,0)}function n(){var e=void 0;if(e=h.response?h.response:h.responseText||u(h),g)try{e=JSON.parse(e)}catch(e){}return e}function o(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,x)}function a(){if(!p){var t;clearTimeout(d),t=e.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var r=x,o=null;return 0!==t?(r={body:n(),statusCode:t,method:v,headers:{},url:y,rawRequest:h},h.getAllResponseHeaders&&(r.headers=l(h.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),c(o,r,r.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var s=!1,c=function(t,n,r){s||(s=!0,e.callback(t,n,r))},h=e.xhr||null;h||(h=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var f,p,d,y=h.url=e.uri||e.url,v=h.method=e.method||"GET",m=e.body||e.data,b=h.headers=e.headers||{},_=!!e.sync,g=!1,x={body:void 0,headers:{},statusCode:0,method:v,url:y,rawRequest:h};if("json"in e&&!1!==e.json&&(g=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),h.onreadystatechange=t,h.onload=a,h.onerror=o,h.onprogress=function(){},h.onabort=function(){p=!0},h.ontimeout=o,h.open(v,y,!_,e.username,e.password),_||(h.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(d=setTimeout(function(){if(!p){p=!0,h.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}},e.timeout)),h.setRequestHeader)for(f in b)b.hasOwnProperty(f)&&h.setRequestHeader(f,b[f]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(h),h.send(m||null),h}function u(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function s(){}var c=n(28),h=n(29),l=n(30),f=n(34);e.exports=i,e.exports.default=i,i.XMLHttpRequest=c.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:c.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){i["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),a(n)}})},function(e,t,n){"use strict";(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(4))},function(e,t,n){"use strict";function r(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=r;var o=Object.prototype.toString},function(e,t,n){"use strict";var r=n(31),o=n(32),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return o(r(e).split("\n"),function(e){var n=e.indexOf(":"),o=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));void 0===t[o]?t[o]=a:i(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},function(e,t,n){"use strict";function r(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=r,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){"use strict";var r=n(33),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},u=function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},s=function(e,t,n){for(var r in e)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},c=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===o.call(e)?a(e,t,i):"string"==typeof e?u(e,t,i):s(e,t,i)};e.exports=c},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Function.prototype.toString,i=/^\s*class /,a=function(e){try{var t=o.call(e),n=t.replace(/\/\/.*\n/g,""),r=n.replace(/\/\*[.\s\S]*\*\//g,""),a=r.replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(a)}catch(e){return!1}},u=function(e){try{return!a(e)&&(o.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag);e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":r(e)))return!1;if(c)return u(e);if(a(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}e.exports=r;var o=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=n(36)},function(e,t,n){"use strict";e.exports=function(e){return~-encodeURI(e).split(/%..|./).length}},function(e,t,n){"use strict";function r(e,t,n){this.next=n,n&&(n.prev=this),this.prev=t,t&&(t.next=this),this.data=e}e.exports=function(){Object.defineProperty(this,"_head",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_tail",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_next",{value:void 0,writable:!0,enumerable:!1,configurable:!1}),Object.defineProperty(this,"_length",{value:0,writable:!0,enumerable:!1,configurable:!1})},e.exports.prototype.__defineGetter__("head",function(){return this._head&&this._head.data}),e.exports.prototype.__defineGetter__("tail",function(){return this._tail&&this._tail.data}),e.exports.prototype.__defineGetter__("current",function(){return this._current&&this._current.data}),e.exports.prototype.__defineGetter__("length",function(){return this._length}),e.exports.prototype.push=function(e){this._tail=new r(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++},e.exports.prototype.pop=function(){var e=this._tail;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)},e.exports.prototype.shift=function(){var e=this._head;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)},e.exports.prototype.unshift=function(e){this._head=new r(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++},e.exports.prototype.unshiftCurrent=function(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)},e.exports.prototype.removeCurrent=function(e){var t=this._current;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,t.data):(t===this._tail?(this._tail=t.prev,this._tail.next=void 0,this._current=this._tail):t===this._head?(this._head=t.next,this._head.prev=void 0,this._current=this._head):(t.next.prev=t.prev,t.prev.next=t.next,this._current=t.prev),this._next=this._current.next,t.data)},e.exports.prototype.next=function(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data},e.exports.prototype.resetCursor=function(){return this._current=this._next=this._head,this}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),n?"/"!==n.charAt(0)&&(n="/"+n):n="",this._connection=t,this._path=n,this._headers=r}return u(e,[{key:"route",value:function(t,n){return t?"/"!==t.charAt(0)&&(t="/"+t):t="",new e(this._connection,this._path+t,a({},this._headers,n))}},{key:"request",value:function(e){var t=e.method,n=e.path,o=e.headers,i=void 0===o?{}:o,u=r(e,["method","path","headers"]);return n?this._path&&"/"!==n.charAt(0)?u.path="/"+n:u.path=n:u.path="",u.basePath=this._path,u.headers=a({},this._headers,i),u.method=t?t.toUpperCase():"GET",this._connection.request(u)}},{key:"_request1",value:function(e){for(var t="",n=void 0,r=void 0,o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return void 0!==a[0]&&"string"!=typeof a[0]||(t=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(n=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(r=a.shift()),this.request({method:e,path:t,qs:n,headers:r})}},{key:"_request2",value:function(e){for(var t="",n=void 0,r=void 0,o=void 0,a=arguments.length,u=Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];return void 0!==u[0]&&"string"!=typeof u[0]||(t=u.shift()),n=u.shift(),void 0!==u[0]&&"object"!==i(u[0])||(r=u.shift()),void 0!==u[0]&&"object"!==i(u[0])||(o=u.shift()),this.request({method:e,path:t,body:n,qs:r,headers:o})}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request1.apply(this,["DELETE"].concat(t))}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request1.apply(this,["GET"].concat(t))}},{key:"head",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request1.apply(this,["HEAD"].concat(t))}},{key:"patch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request2.apply(this,["PATCH"].concat(t))}},{key:"post",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request2.apply(this,["POST"].concat(t))}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._request2.apply(this,["PUT"].concat(t))}}]),e}();t.Route=s},function(e,t,n){"use strict";function r(e){return window.btoa(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.btoa=r},function(e,t,n){"use strict";function r(e,t){var n=void 0;try{n=new FormData;var r=!0,i=!1,a=void 0;try{for(var u,s=Object.keys(e)[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value,h=e[c];void 0!==h&&(h instanceof Blob||"object"!==(void 0===h?"undefined":o(h))&&"function"!=typeof h||(h=JSON.stringify(h)),n.append(c,h))}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}catch(e){return void t(e)}t(null,{body:n})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.toForm=r}])});
//# sourceMappingURL=web.js.map